./kafka-console-producer.sh \
--bootstrap-server localhost:9092 \
--topic neft.outbound.kafka.topic

pod : dev-kafka-cluster-broker-1
sh-5.1$ cd bin
sh-5.1$ ./kafka-console-producer.sh \
--bootstrap-server localhost:9092 \
--topic neft.outbound.kafka.topic
>Saadi
>message from kafka
>17jan2026
>



sh-5.1$ cd bin 
sh-5.1$ ./kafka-console-producer.sh \
--bootstrap-server localhost:9092 \
--topic neft.outbound.kafka.topic
>Omkar Gupta
>Saadi M 
>Suraj
>Devendra
>Omkar
>Anuj 
>Omkar
>sh-5.1$


sh-5.1$ ./kafka-topics.sh --bootstrap-server localhost:9092 --list | grep -i neft
neft.inbound.kafka.topic
neft.outbound.kafka.topic
neft.processed.kafka.topic
neft.raw.kafka.topic
sh-5.1$ ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic neft.inbound.kafka.topic                 
^CProcessed a total of 0 messages
sh-5.1$ ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic neft.inbound.kafka.topic --from-beginning
Test Message from IPH 1
Test Merssage from IPH 2
Test Message from IPH 3
Test Message from IPH 4
HI FROM IPH
HI IPH 2
ghjgjklgjk
fdgdfgdfsgfdsg
fgdsfgdsfgsdfg
cgagdsdg
3452346egyertgetg








dev-kafka-connect-mq-test.YML
apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnect
metadata:
  annotations:
    strimzi.io/use-connector-resources: 'true'
  creationTimestamp: '2026-01-17T10:44:38Z'
  generation: 1
  managedFields:
    - apiVersion: kafka.strimzi.io/v1beta2
      fieldsType: FieldsV1
      fieldsV1:
        'f:metadata':
          'f:annotations':
            .: {}
            'f:strimzi.io/use-connector-resources': {}
        'f:spec':
          'f:version': {}
          'f:image': {}
          'f:tls':
            .: {}
            'f:trustedCertificates': {}
          .: {}
          'f:template':
            .: {}
            'f:pod':
              .: {}
              'f:affinity':
                .: {}
                'f:nodeAffinity':
                  .: {}
                  'f:requiredDuringSchedulingIgnoredDuringExecution':
                    .: {}
                    'f:nodeSelectorTerms': {}
          'f:replicas': {}
          'f:resources':
            .: {}
            'f:limits':
              .: {}
              'f:cpu': {}
              'f:memory': {}
            'f:requests':
              .: {}
              'f:cpu': {}
              'f:memory': {}
          'f:config':
            'f:config.storage.topic': {}
            'f:offset.flush.timeout.ms': {}
            'f:offset.storage.replication.factor': {}
            'f:status.storage.replication.factor': {}
            .: {}
            'f:value.converter': {}
            'f:status.storage.topic': {}
            'f:offset.storage.topic': {}
            'f:config.storage.replication.factor': {}
            'f:key.converter': {}
            'f:value.converter.schemas.enable': {}
            'f:offset.flush.interval.ms': {}
            'f:group.id': {}
          'f:bootstrapServers': {}
      manager: Mozilla
      operation: Update
      time: '2026-01-17T10:44:38Z'
    - apiVersion: kafka.strimzi.io/v1beta2
      fieldsType: FieldsV1
      fieldsV1:
        'f:status':
          .: {}
          'f:conditions': {}
          'f:connectorPlugins': {}
          'f:labelSelector': {}
          'f:observedGeneration': {}
          'f:replicas': {}
          'f:url': {}
      manager: strimzi-cluster-operator
      operation: Update
      subresource: status
      time: '2026-01-21T05:45:50Z'
  name: dev-kafka-connect-mq-test
  namespace: dev-kafka
  resourceVersion: '578437561'
  uid: 6c43d149-ea75-453d-ab53-9a357560df5a
spec:
  bootstrapServers: 'dev-kafka-cluster-kafka-bootstrap.dev-kafka.svc.cluster.local:9093'
  config:
    status.storage.topic: dev-connect-cluster-status
    status.storage.replication.factor: -1
    offset.storage.topic: dev-connect-cluster-offsets
    value.converter: org.apache.kafka.connect.converters.ByteArrayConverter
    offset.flush.interval.ms: 10000
    group.id: dev-connect-cluster
    value.converter.schemas.enable: 'false'
    config.storage.replication.factor: -1
    config.storage.topic: dev-connect-cluster-configs
    key.converter: org.apache.kafka.connect.storage.StringConverter
    offset.flush.timeout.ms: 5000
    offset.storage.replication.factor: -1
  image: 'registry.dev.sbiepay.sbi:8443/library/kafka-connect-mq:v3'
  replicas: 3
  resources:
    limits:
      cpu: '4'
      memory: 8Gi
    requests:
      cpu: '2'
      memory: 4Gi
  template:
    pod:
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: node-role.kubernetes.io/worker
                    operator: Exists
  tls:
    trustedCertificates:
      - pattern: '*.crt'
        secretName: dev-kafka-cluster-cluster-ca-cert
  version: 3.9.0
status:
  conditions:
    - lastTransitionTime: '2026-01-21T05:45:50.638790712Z'
      status: 'True'
      type: Ready
  connectorPlugins:
    - class: com.ibm.eventstreams.connect.mqsink.MQSinkConnector
      type: sink
      version: 2.2.1
    - class: com.ibm.eventstreams.connect.mqsource.MQSourceConnector
      type: source
      version: 2.6.0
    - class: org.apache.kafka.connect.mirror.MirrorCheckpointConnector
      type: source
      version: 3.9.0
    - class: org.apache.kafka.connect.mirror.MirrorHeartbeatConnector
      type: source
      version: 3.9.0
    - class: org.apache.kafka.connect.mirror.MirrorSourceConnector
      type: source
      version: 3.9.0
  labelSelector: 'strimzi.io/cluster=dev-kafka-connect-mq-test,strimzi.io/name=dev-kafka-connect-mq-test-connect,strimzi.io/kind=KafkaConnect'
  observedGeneration: 1
  replicas: 3
  url: 'http://dev-kafka-connect-mq-test-connect-api.dev-kafka.svc:8083'


+++++++++++++++++++fixed------------------------------

apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnect
metadata:
  name: dev-kafka-connect-mq-test
  namespace: dev-kafka
  annotations:
    strimzi.io/use-connector-resources: "true"

spec:
  version: 3.9.0
  replicas: 3

  image: registry.dev.sbiepay.sbi:8443/library/kafka-connect-mq:v3

  bootstrapServers: dev-kafka-cluster-kafka-bootstrap.dev-kafka.svc.cluster.local:9093

  # =========================
  # Kafka Connect Worker Config
  # =========================
  config:
    group.id: dev-connect-cluster

    config.storage.topic: dev-connect-cluster-configs
    offset.storage.topic: dev-connect-cluster-offsets
    status.storage.topic: dev-connect-cluster-status

    config.storage.replication.factor: -1
    offset.storage.replication.factor: -1
    status.storage.replication.factor: -1

    offset.flush.interval.ms: 10000
    offset.flush.timeout.ms: 5000

    key.converter: org.apache.kafka.connect.storage.StringConverter
    value.converter: org.apache.kafka.connect.converters.ByteArrayConverter
    value.converter.schemas.enable: "false"

  # =========================
  # TLS Configuration (Kafka SSL)
  # =========================
  tls:
    trustedCertificates:
      - secretName: dev-kafka-cluster-cluster-ca-cert
        pattern: "*.crt"

  # =========================
  # Resources
  # =========================
  resources:
    requests:
      cpu: "2"
      memory: 4Gi
    limits:
      cpu: "4"
      memory: 8Gi

  # =========================
  # Pod Template (IMPORTANT FIX HERE)
  # =========================
  template:
    pod:
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: node-role.kubernetes.io/worker
                    operator: Exists

      env:
        # ðŸ”¥ MANDATORY FOR SSL (ROOT CAUSE FIX)
        - name: CERTS_STORE_PASSWORD
          valueFrom:
            secretKeyRef:
              name: dev-kafka-cluster-cluster-ca-cert
              key: ca.password



----------------------------------------------------

apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaConnect
metadata:
  name: dev-kafka-connect-mq-test
  namespace: dev-kafka
  annotations:
    strimzi.io/use-connector-resources: "true"

spec:
  version: 3.9.0
  replicas: 3

  image: registry.dev.sbiepay.sbi:8443/library/kafka-connect-mq:v3

  bootstrapServers: dev-kafka-cluster-kafka-bootstrap.dev-kafka.svc.cluster.local:9093

  # =========================
  # Kafka Connect Worker Config
  # =========================
  config:
    group.id: dev-connect-cluster

    config.storage.topic: dev-connect-cluster-configs
    offset.storage.topic: dev-connect-cluster-offsets
    status.storage.topic: dev-connect-cluster-status

    config.storage.replication.factor: -1
    offset.storage.replication.factor: -1
    status.storage.replication.factor: -1

    offset.flush.interval.ms: 10000
    offset.flush.timeout.ms: 5000

    key.converter: org.apache.kafka.connect.storage.StringConverter
    value.converter: org.apache.kafka.connect.converters.ByteArrayConverter
    value.converter.schemas.enable: "false"

    # ðŸ”’ Explicit SSL safety (important)
    security.protocol: SSL
    ssl.endpoint.identification.algorithm: HTTPS

    # ðŸ”Œ Plugin discovery (important for custom image)
    plugin.path: /opt/kafka/plugins

  # =========================
  # TLS Configuration
  # =========================
  tls:
    trustedCertificates:
      - secretName: dev-kafka-cluster-cluster-ca-cert
        pattern: "*.crt"

  # =========================
  # Resource Management
  # =========================
  resources:
    requests:
      cpu: "2"
      memory: 4Gi
    limits:
      cpu: "4"
      memory: 8Gi

  # =========================
  # Pod Template (ROOT CAUSE FIX + HARDENING)
  # =========================
  template:
    pod:
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: node-role.kubernetes.io/worker
                    operator: Exists

      env:
        # ðŸ”¥ REQUIRED for Strimzi SSL
        - name: CERTS_STORE_PASSWORD
          valueFrom:
            secretKeyRef:
              name: dev-kafka-cluster-cluster-ca-cert
              key: ca.password

        # ðŸ§  JVM stability
        - name: KAFKA_HEAP_OPTS
          value: "-Xms2G -Xmx4G"

      # Optional but recommended
      terminationGracePeriodSeconds: 60

